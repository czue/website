<section class="hero is-primary">
    <div class="hero-body">
        <div class="container">
            <div class="columns">
                <div class="column">
                    <h1 class="title">Subscribe for Updates</h1>
                    <h2 class="subtitle">
                       Get updates on new content I publish. Max of one email per week. Unsubscribe at any time.
                    </h2>
                </div>
                <div class="column">
                <!-- Begin MailChimp Signup Form -->
                <div id="mc_embed_signup">
                    <form action="//czue.us12.list-manage.com/subscribe/post?u=8e1e2dbe516505b5e7cc058ab&amp;id=9db3a478f5"
                          method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form"
                          class="validate" target="_blank" novalidate>
                        <div id="mc_embed_signup_scroll" >
                            <div class="mc-field-group field">
                                <p class="control has-icon">
                                    <input type="text" value="" name="FNAME" class="input" id="mce-FNAME" placeholder="First Name">
                                    <span class="icon">
                                        <i class="fa fa-user"></i>
                                    </span>
                                </p>
                            </div>
                            <div class="mc-field-group field">
                                <p class="control has-icon">
                                    <input type="email" value="" name="EMAIL" class="input required email" id="mce-EMAIL" placeholder="Email Address">
                                    <span class="icon">
                                        <i class="fa fa-envelope-o"></i>
                                    </span>
                                </p>
                            </div>
                            <div id="mce-responses" class="clear">
                                <div class="response" id="mce-error-response" style="display:none"></div>
                                <div class="response" id="mce-success-response" style="display:none"></div>
                            </div>
                            <div class="clear">
                                <input type="submit" value="Subscribe" name="subscribe"
                                       id="mc-embedded-subscribe" class="button is-white is-outlined">
                                <p class="is-pulled-right"><small><a href="{{ '/feed.xml' | relative_url }}">or use RSS</a></small></p>
                            </div>
                        </div>
                    </form>
                </div>
                <script type='text/javascript'
                        src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script>
                <script type='text/javascript'>(function ($) {
                    window.fnames = new Array();
                    window.ftypes = new Array();
                    fnames[0] = 'EMAIL';
                    ftypes[0] = 'email';
                    fnames[1] = 'FNAME';
                    ftypes[1] = 'text';
                }(jQuery));
                var $mcj = jQuery.noConflict(true);
                {% if jekyll.environment == 'production' and site.google_analytics %}
                // google analytics: https://developers.google.com/analytics/devguides/collection/analyticsjs/sending-hits
                var form = document.getElementById('mc-embedded-subscribe-form');
                form.addEventListener('submit', function(event) {
                  // Prevents the browser from submitting the form and thus unloading the current page.
                  event.preventDefault();
                  // Creates a timeout to call `submitForm` after one second.
                  setTimeout(submitForm, 1000);
                  // Keeps track of whether or not the form has been submitted.
                  // This prevents the form from being submitted twice in cases
                  // where `hitCallback` fires normally.
                  var formSubmitted = false;

                  function submitForm() {
                    if (!formSubmitted) {
                      formSubmitted = true;
                      form.submit();
                    }
                  }

                  // Sends the event to Google Analytics and
                  // resubmits the form once the hit is done.
                  ga('send', 'event', 'Newsletter Signup Form', 'submit', {
                    hitCallback: submitForm
                  });
                });
                {% endif %}
                </script>
                <!--End mc_embed_signup-->
                </div>
            </div>
        </div>
    </div>
</section>
